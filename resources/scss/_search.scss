/**
 *
 * SharePoint search controls and search results web part styles.
 *
 */

// search box
.ms-srch-sb > input,
.ms-srch-sbLarge > input {
  height: $forms-input-size;
  padding-right: ceil($forms-input-size * 2) + $font-size-base;

  &.ms-srch-sb-prompt {
    color: $gray-light;
  }

}

// search link
.ms-srch-sb,
.ms-srch-sbLarge {
  position: relative;
}

// search button
.ms-srch-sb > .ms-srch-sb-searchLink,
.ms-srch-sbLarge > .ms-srch-sb-searchLink {
  border-radius: 0 $border-radius-base $border-radius-base 0;
  color: $brand-primary;
  font-size: $font-size-large;
  height: $forms-input-size;
  line-height: $forms-input-size;
  position: absolute;
  right: 0;
  text-align: center;
  top: 0;
  width: $forms-input-size;

  // hide image
  img {
    display: none;
  }

  // replace image with Font Awesome icon
  &::after {
    @include fa-icon();
    content: $fa-var-search; // Font Awesome: 'search' icon
  }

  &:hover {
    background-color: $brand-primary;
    color: $gray-superlight;
    text-decoration: none;
  }

}

// search scope navigation
.ms-srch-sb-navLink,
.ms-srch-sb > .ms-srch-sb-navLink {
  color: $gray-light;
  font-size: $font-size-large;
  height: $forms-input-size;
  line-height: $forms-input-size;
  position: absolute;
  right: $forms-input-size;
  text-align: center;
  top: 0;
  width: $forms-input-size;

  // hide image
  img {
    display: none;
  }

  // replace image with Font Awesome icon
  &::after {
    @include fa-icon();
    content: $fa-var-caret-down; // Font Awesome: 'caret-down' icon
  }

  &:hover,
  &.ms-srch-sb-navLink-menuOpen {
    background-color: transparent;
    color: $brand-primary;
    text-decoration: none;
  }

}

// search drop-down menus
.ms-qSuggest-container {
  border-radius: 0 0 $border-radius-base $border-radius-base;
  margin: 0;
  padding: 0;
  top: $forms-input-size;

  .ms-qSuggest-listItem,
  .ms-qSuggest-hListItem {
    cursor: pointer;
    padding: .5em $font-size-base;
  }

  .ms-qSuggest-hListItem {
    background-color: transparentize($brand-primary, .95);
  }

}

// search scope tabs
.ms-srchnav-item h2 {
  font-size: $font-size-large;

  a,
  .ms-srchnav-link:link,
  .ms-srchnav-link:visited {
    color: $gray-light;
  }

  .ms-srchnav-link:hover,
  a.ms-srchnav-link-selected {
    color: $brand-primary;
  }

}

// search refiners
.ms-ref-unsel-toggle:hover,
.ms-ref-refiner #Value > a:hover {
  color: $brand-primary;
}

// date refiner
.histogram_bar_active {
  background-color: $gray-lighter;
  border-top-color: $brand-primary;
}

.histogram_bar_active:hover,
.histogram_bar_active:active,
.histogram_bar_inactive:hover,
.histogram_bar_inactive:active {
  background-color: $gray-lighter;
  border-color: $brand-primary;
}

.slider_tick_active,
.ajax__multi_slider_default .inner_rail_horizontal {
  background-color: $brand-primary;
  border-color: $brand-primary;
}

.ajax__multi_slider_default .handle_forcepressed,
.ajax__multi_slider_default .handle_noforcepressed:hover,
.ajax__multi_slider_default .handle_noforcepressed:active {
  background-color: $gray-lighter;
  border-color: $brand-primary;
}

// search results
.ms-srch-item,
.ms-srch-people-item {
  margin: 0 0 $line-height-computed;

  .ms-srch-ellipsis {
    font-size: 1em;
    margin: 0;
    text-transform: none;
  }

}

.ms-srch-item:hover,
.ms-srch-resultHover:hover,
.edisc-SearchResultItemContainer:hover {
  background-color: transparentize($brand-primary, .96);
}

.ms-srch-item-path {
  color: $brand-success;
  word-break: break-word;
}

// people results
.ms-srch-people-item #UserInfoContainer {
  margin-left: 100px;
}

// hover panels
.ms-srch-hover-subTitle h3 {
  font-size: 1em;
}

// hide results hover panel on smaller screens
@media (max-width: $screen-md-max) {

  // hide hover panel
  .ms-srch-hover-outerContainer {
    display: none !important;
  }

  // wrap ellipsis lines
  .ms-srch-ellipsis {
    white-space: normal;
  }

  // results are block elements
  .ms-srch-item-body,
  .ms-srch-item-path,
  .ms-srch-item-summary {
    display: block;
  }

  // full width results
  .ms-srch-item,
  .ms-srch-item-path,
  .ms-srch-people-item,
  .ms-srch-people-outerContainer {
    width: auto;
  }

}

// paging
.ms-srch-result #Paging {
  margin: $line-height-computed 0;

  a {
    border-radius: $border-radius-base;
    color: $brand-primary;
    display: inline-block;
    padding: $font-size-base;

    &:hover {
      background-color: transparentize($brand-primary, .96);
      color: $brand-primary;
    }

  }

}

.ms-srch-result #PagingLink a {
  color: $gray-light;
}

// replace paging arrows with Font Awesome icons
.ms-promlink-button {
  border: 0;
  font-size: 1em;
  height: auto;
  padding: 0;
  width: auto;

  // hide image
  .ms-promlink-button-image {
    display: none;
  }

  // replace image with Font Awesome icon
  &::after {
    @include fa-icon();
    content: $fa-var-chevron-right; // Font Awesome: 'chevron-right' icon
  }

}

// next icon
li:first-child .ms-promlink-button::after {
  content: $fa-var-chevron-left; // Font Awesome: 'chevron-left' icon
}

// search tools
.ms-srch-result #ResultFooter li {
  padding: 0;

  + li {
    margin-left: 1em;
  }

}
